{"version":3,"names":[],"mappings":"","sources":["listing-index-merchant.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\n/*\n * This file is part of Kabooodle.\n * Copyright (c) 2017. Jacob Toolson <jake@kabooodle.com>\n */\n\nnew Vue({\n    el: '#merchant_listings_index',\n    data: {\n        actions: {\n            deleting: false\n        }\n    },\n    methods: {\n\n        /**\n         *\n         * @param endpoint\n         * @param listingId\n         * @param event\n         */\n        deleteListingItem: function deleteListingItem(endpoint, listingId, event) {\n            var $el = $(event.target);\n\n            var successCb = function successCb($noty, response) {\n                $el.closest('tr[data-id=\"' + listingId + '\"]').remove();\n            };\n\n            var notyOptions = {\n                text: 'This cannot be undone, are you sure?'\n            };\n\n            this.deleteListing(endpoint, successCb, notyOptions);\n        },\n\n\n        /**\n         * Delete listing only from facebook.\n         *\n         * @param {string} endpoint\n         * @param {integer} id\n         * @param {string} type\n         * @param {object} e\n         */\n        deleteFacebookListing: function deleteFacebookListing(endpoint, id, e) {\n            var successCb = function successCb($noty, response) {\n                $(e.target).closest('tr').replaceWith($(response.body.data.html));\n            };\n\n            var notyOptions = {\n                text: 'This will queue the listing for removal from Facebook. This cannot be undone, are you sure?'\n            };\n\n            this.deleteListing(endpoint, successCb, notyOptions);\n        },\n\n\n        /**\n         *\n         * @param endpoint\n         * @param successCb\n         * @param notyOptions\n         */\n        deleteListing: function deleteListing(endpoint, successCb, notyOptions) {\n            var _this = this;\n\n            confirmModal(function ($noty) {\n                _this.actions.deleting = true;\n                $noty.$buttons.find('.btn').addClass('disabled').prop('disabled', true);\n                _this.$http.delete(endpoint).then(function (response) {\n                    notify({\n                        type: 'success',\n                        text: response.body.data.msg\n                    });\n                    if (successCb instanceof Function) {\n                        successCb($noty, response);\n                    }\n                }, function (response) {\n                    notify({\n                        text: response.body.data.msg\n                    });\n                }).finally(function () {\n                    _this.actions.deleting = false;\n                    $noty.close();\n                });\n            }, null, notyOptions);\n        }\n    }\n});\n\n},{}]},{},[1]);\n"],"file":"listing-index-merchant.js"}